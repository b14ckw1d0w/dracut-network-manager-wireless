# Maintainer: Your Name <your.email@example.com>
pkgname=dracut-network-manager-wireless
pkgver=1.0.0
pkgrel=1
pkgdesc="A custom dracut module for initializing Wi-Fi connections during the early boot process."
arch=('any')
url="https://github.com/bl4ckw1d0w/dracut-network-manager-wireless"
license=('Apache')
depends=('dracut' 'networkmanager' 'wpa_supplicant' 'clevis')
source=("dracut-network-manager-wireless-v$pkgver.tar.gz::https://github.com/b14ckw1d0w/dracut-network-manager-wireless/blob/25898b21ee460d8153fe733f52a27623d43de152/aur/dracut-network-manager-wireless-v$pkgver.tar.gz")
sha256sums=('sha256sums=('2a4515eb6ac1770677567fbbe4939bbd1434b56a9436e037ebf39795dc3a7b87')
')

package() {
    # Extract and install the files to the package directory
    install -dm755 "$pkgdir/etc/dracut.conf.d"
    install -m644 "$srcdir/etc/dracut.conf.d/network-manager-wireless.conf" "$pkgdir/etc/dracut.conf.d/"

    install -dm755 "$pkgdir/usr/lib/dracut/modules.d/30network-manager-wireless"
    install -m755 "$srcdir/usr/lib/dracut/modules.d/30network-manager-wireless/module-setup.sh" "$pkgdir/usr/lib/dracut/modules.d/30network-manager-wireless/"
}

